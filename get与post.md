# get 与 post 请求

> post请求的过程：
> 1. 浏览器请求tcp连接（第一次握手）
> 2. 服务器答应进行tcp连接（第二次握手）
> 3. 浏览器确认，并发送post请求头（第三次握手，这个报文比较小，所以http会在此时进行第一次数据发送）
> 4. 服务器返回100 continue响应
> 5. 浏览器开始发送数据
> 6. 服务器返回200 ok响应

> get请求的过程
> 1. 浏览器请求tcp连接（第一次握手）
> 2. 服务器答应进行tcp连接（第二次握手）
> 3. 浏览器确认，并发送get请求头和数据（第三次握手，这个报文比较小，所以http会在此时进行第一次数据发送）
> 4. 服务器返回200 ok响应

也就是说，目测get的总耗是post的2/3左右。

POST要比GET安全一点点，这两者都是明文传送，但有一个细节，

就是GET的URL会被放在浏览器历史和WEB服务器日志里面，POST发完基本就没了。

所以如果你把关键数据放在GET里面，被人偷窥了浏览器，

或者WEB服务器被入侵日志被人倒去了，基本泄露可能性100%。

而POST来说，日志没有记录，只要数据库服务器不被入侵，基本还是安全的。

当然如果被抓了包，这一切都没有什么用，所以，HTTPS该用还是得用。

GET 的URL手输，本质上 GET 的所有信息都在URL，方便记录复用。
所以如果你希望－ 请求中的URL可以被手动输入－ 请求中的URL可以被存在书签里，
或者历史里，或者快速拨号里面，或者分享给别人。
－ 请求中的URL是可以被搜索引擎收录的。－ 带云压缩的浏览器，比如Opera mini/Turbo 2, 
只有GET才能在服务器端被预取的。－ 请求中的URL可以被缓存。请使用GET. 大家有没有注意到，
其实这里面很多方面的要求是和网站的运营相关的，而不是技术相关的。
任何的技术行为中，其实多多少少都能看到商业的影子。
反之，就用POST. 特别是有一些东西你是不想让人家可以在浏览器地址栏里面可以输入的。
比如，如果你设计一个blog系统, 设计这样一个URL来删掉所有帖子。
```
http://myblog.com/?action=delete_all
```
post可以发送的数据够大。

POST和GET是不同的。GET有如下几个特点：请求不应带有请求体，
服务器应忽略/丢弃GET请求的请求体。GET接口不具有副作用。
语义上，用于“读取资源”。POST请求有如下特点：POST接口不需要具有幂等性，
请求方不应假设该接口具有幂等性。语义上，用于改写/新建资源。
POST具有create/update的语义，因此常被用于实现类似于“远程过程调用”的目的。
这么做并不违反语义，毕竟linux下这么玩的多了去了。
POST可以携带请求体，并且根据语义来说POST需要有请求体，
没有的话也是“创建空资源/将资源改写为空”的语义。
POST不应被假设为具有幂等性，因此服务器端常用这种方式告诉请求方，
POST请求不能随意重发，除非响应中明确要求重发（比如3xx）。
问“为什么不用POST代替GET”是没有意义的，就像“为什么不用写代替读”一样没有意义。
和POST类似的请求是PUT，这两者语义上实际是重合的，惟一的区别是，PUT接口具有幂等性。
这就对PUT作出了更严格的限制。显然通常而言我们更喜欢幂等的接口，
但是有些时候我们也需要做一些不那么trivial的事情。所以非幂等接口也是有存在的必要的。
不过幂等的POST接口也不一定非要改成PUT，具体是什么，最终还是由语义决定的。
这些并不是约定，这些就是HTTP协议的一部分，只有双方都遵守协议才能愉快得玩耍。
比如说，你自己实现TCP client也可以不遵守TCP协议对序列号和ACK的规定，
毕竟你想怎么写就怎么写嘛，但是，我们管这叫，bug。同理，具有副作用的GET handler，
是bug。GET请求发请求体的，是bug。服务器不丢弃GET的请求体的，是bug。

HTTP 是应用协议！！！！！！！！不是传输协议！！！！！！！！
如果站在传输协议的角度来看 POST 完全可以代替 GET，会觉得 GET的存在没有必要。
如果站在应用协议的角度，任何应用程序都少不了“增删改查”功能，
HTTP 协议的方法除了 POST、GET外还有 DELETE和PUT，
他们刚好是对应的：POST是添加，DELETE是删除，PUT是修改，GET是查询，
至于增删改查的具体内容每个应用都不同，但是他们都可以用URL定位，
内容在HTTP里叫做“资源”，所以URL叫“统一资源定位符”。
RESTful API 正是按照这种方式来定义的，大家都用 HTTP 协议提供 API 不是偶然，
而是就是为此而设计的。

Http Get方法提交的数据大小长度并没有限制，HTTP协议规范没有对URL长度进行限制。
这个限制是特定的浏览器及服务器对它的限制，众所周知，IE是浏览器里面最烂的，
貌似url长度限制也是最短的2083个字符，所以为了让所有的用户都能正常浏览，
最好GET的长度不要超过2083字符。POST按照协议来说是没有限制的，
但是一般服务器都有限制，比如java使用的tomcat默认限制是2M,
可以配置server.xml的一个参数maxPostSize=“0”取消限制

GET请求能够被cache，GET请求能够被保存在浏览器的浏览历史里面（密码等重要数据GET提交，别人查看历史记录，就可以直接看到这些私密数据）POST不进行缓存
（正所谓线上在牛逼，抵不上线下挖掘机是一样的道理）
。这就是POST比GET安全的原因吗？那你告诉我HTTPS
用来干嘛？(那么HTTPS是否应该废除？？)PS:虽然用GET是能够造成CSRF攻击的！
某些数据只能用POST不能用GET携带，比如file，GET和POST的语义不一样，详情请参考RESTFUl的设计多数浏览器（
除了firefox）在AJAX中对于POST采用两阶段发送数据的，先发送请求头，再发送请求体。详情请看这篇文章-->[link](https://link.zhihu.com/?target=http%3A//www.cnxct.com/use-get-for-ajax-requests-why/)

请不要怀疑yahoo前端35条优化法则）还有这篇文章[link](https://link.zhihu.com/?target=https%3A//josephscott.org/archives/2009/08/xmlhttprequest-xhr-uses-multiple-packets-for-http-post/)

